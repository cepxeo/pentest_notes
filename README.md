# Pentest notes

Neat commands, code snippets and links to use during the tests.

## Table of Contents
* [Red Teaming](#red-teaming)
* [Clouds](#clouds)
* [AppSec](#appsec)
* [Protection and Hardening](#protection-and-hardening)

------

## Red Teaming

### Cheat sheets / Articles
https://github.com/infosecn1nja/AD-Attack-Defense

https://github.com/S1ckB0y1337/Active-Directory-Exploitation-Cheat-Sheet

https://github.com/infosecn1nja/Red-Teaming-Toolkit

https://hausec.com/2019/03/12/penetration-testing-active-directory-part-ii/amp/

https://recipeforroot.com/bonus-linux-commands/

https://mobile.twitter.com/DirectoryRanger

https://www.pentestpartners.com/security-blog/cobalt-strike-walkthrough-for-red-teamers/

https://www.hackingarticles.in/abusing-microsoft-outlook-365-to-capture-ntlm/

http://blog.redxorblue.com/2019/01/red-teaming-made-easy-with-exchange.html

https://ptestmethod.readthedocs.io/en/latest/LFF-IPS-P4-PostExploitation.html

https://www.trustedsec.com/blog/breaking-typical-windows-hardening-implementations/

https://github.com/JPMinty/MindMaps

https://teamhydra.blog/2020/08/25/bypassing-credential-guard/amp/

https://github.com/BankSecurity/Red_Team

https://www.hackingarticles.in/get-reverse-shell-via-windows-one-liner/

https://gist.github.com/dogrocker/86881d2403fee138487054da82d5dc2e

### Build Red Team environments
https://www.trustwave.com/en-us/resources/blogs/spiderlabs-blog/azure-web-app-service-for-offensive-operations/

https://shells.systems/automate-octopus-c2-redteam-infrastructure-deployment/

https://github.com/strikergoutham/AutoC2

### Frameworks
https://github.com/OWASP/Amass/

https://github.com/khast3x/Redcloud

https://github.com/mitre/caldera

https://github.com/byt3bl33d3r/DeathStar

https://github.com/blackhatethicalhacking/HiddenEye

https://github.com/blackhatethicalhacking/Dr0p1t-Framework

https://www.blackhillsinfosec.com/my-first-joyride-with-silenttrinity/

### Tools

https://github.com/slaeryan/AQUARMOURY/tree/master/Wraith

https://github.com/darkr4y/geacon

https://github.com/blackarrowsec/mssqlproxy

https://github.com/skelsec/jackdaw/

https://kalilinuxtutorials-com.cdn.ampproject.org/c/s/kalilinuxtutorials.com/givemesecrets/amp/

https://github.com/nccgroup/OneLogicalMyth_Shell

https://github.com/antonioCoco/ConPtyShell

https://github.com/thelinuxchoice/lizard

https://github.com/michenriksen/aquatone/tree/v1.7.0

https://kalilinuxtutorials-com.cdn.ampproject.org/c/s/kalilinuxtutorials.com/spraykatz-credentials-gathering-tool/amp/

https://github.com/ollypwn/SMBGhost

https://github.com/T-S-A/smbspider

https://github.com/ANSSI-FR/ADCP-DirectoryCrawler

https://github.com/bitsadmin/wesng

https://github.com/mobdk/RemoteCat

https://github.com/trustedsec/hate_crack/

### Shell execution / AV bypass
https://github.com/med0x2e/NET-Assembly-Inject-Remote

https://github.com/kmkz/exploit/blob/master/Full-payload-delivery-chain.ps1

https://niiconsulting.com/checkmate/2018/06/bypassing-detection-for-a-reverse-meterpreter-shell/

https://www.hackingarticles.in/hiding-shell-using-prependmigrate-metasploit/

https://www.hackingarticles.in/bypass-application-whitelisting-using-mshta-exe-multiple-methods/

https://www.blackhillsinfosec.com/digging-deeper-vulnerable-windows-services/

### Persistence
https://posts.specterops.io/automating-dll-hijack-discovery-81c4295904b0

https://github.com/MojtabaTajik/Robber

https://github.com/zznop/drow

https://in.security/an-intro-into-abusing-and-identifying-wmi-event-subscriptions-for-persistence/

https://www.boozallen.com/s/insight/blog/user-space-persistence-techniques-application-shims.html

### Privilege Escalation
https://blog.pentesteracademy.com/privilege-escalation-by-abusing-sys-ptrace-linux-capability-f6e6ad2a59cc

https://www.hackingarticles.in/linux-privilege-escalation-using-path-variable/

https://www.hackingarticles.in/linux-privilege-escalation-using-capabilities/

https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS/winPEASexe

https://secret.club/2020/04/23/directory-deletion-shell.html

### AD recon
https://outflank.nl/blog/2019/10/20/red-team-tactics-active-directory-recon-using-adsi-and-reflective-dlls/

https://github.com/mubix/netview

### Lateral Movement
https://www.mdsec.co.uk/2020/09/i-like-to-move-it-windows-lateral-movement-part-2-dcom/

https://0xeb-bp.github.io/blog/2019/11/21/practical-guide-pass-the-ticket.html

https://riccardoancarani.github.io/2019-10-04-lateral-movement-megaprimer/

https://www.hackingarticles.in/impacket-guide-smb-msrpc/

### UAC Bypass
https://cqureacademy.com/cqure-labs/cqlabs-how-uac-bypass-methods-really-work-by-adrian-denkiewicz

https://github.com/w4fz5uck5/LonelyALPC-BypassUAC

https://github.com/sailay1996/UAC_Bypass_In_The_Wild

### Malware dev
https://0xpat.github.io/Malware_development_part_3/

https://posts.specterops.io/offensive-p-invoke-leveraging-the-win32-api-from-managed-code-7eef4fdef16d

https://jhalon.github.io/utilizing-syscalls-in-csharp-1/

https://github.com/iGh0st/gh0st3.6_src

## Clouds
https://github.com/dafthack/CloudPentestCheatsheets

### Azure
https://www.synacktiv.com/posts/pentest/azure-ad-introduction-for-red-teamers.html

https://posts.specterops.io/attacking-azure-azure-ad-and-introducing-powerzure-ca70b330511a

https://medium.com/xm-cyber/privilege-escalation-and-lateral-movement-on-azure-part-1-47e128cfdc06

https://github.com/gjjw/AzCredsGDorks

## AWS
https://medium.com/bugbountywriteup/aws-iam-explained-for-red-and-blue-teams-2dda8b20fbf7

https://blog.appsecco.com/an-ssrf-privileged-aws-keys-and-the-capital-one-breach-4c3c2cded3af

https://medium.com/bugbountywriteup/exploiting-aws-iam-permissions-for-total-cloud-compromise-a-real-world-example-part-2-2-f27e4b57454e

## AppSec

https://snyk.io/security-scanner-vuln-cost

### Web

https://github.com/jangelesg/py3webfuzz

https://vdalabs.com/2020/05/08/burpsuite-extensions-some-favorites/

https://github.com/swisskyrepo/PayloadsAllTheThings

https://github.com/0xNanda/Oralyzer

https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/REST_Security_Cheat_Sheet.md

https://github.com/momenbasel/keyFinder

https://medium.com/swlh/hacking-json-web-tokens-jwts-9122efe91e4a

https://github.com/rsrdesarrollo/generator-burp-extension

https://blog.secureideas.com/2019/06/better-api-penetration-testing-with-postman-part-4.html

https://webassembly-security.com/fuzzing-npm-nodejs-webassembly-parsing-library-with-jsfuzz/

### XSS
https://github.com/nettitude/xss_payloads

https://medium.com/bugbountywriteup/bypassing-waf-to-perform-xss-2d2f5a4367f3

https://medium.com/@MichaelKoczwara/password-stealing-from-https-login-page-and-csrf-bypass-with-reflected-xss-76f56ebc4516

### Insecure deserialization
https://github.com/BishopFox/rmiscout

https://diablohorn.com/2017/09/09/understanding-practicing-java-deserialization-exploits/

https://www.n00py.io/2017/11/exploiting-blind-java-deserialization-with-burp-and-ysoserial/

https://github.com/leechristensen/DotNetDeserializationScanner/

### Rich Apps
https://github.com/saleemrashid/frida-sslkeylog

### Code review
https://a13xp0p0v.github.io/2019/08/10/cfu.html

https://www.owasp.org/images/5/53/OWASP_Code_Review_Guide_v2.pdf

### Mobile
https://github.com/shroudedcode/apk-mitm

https://github.com/xtiankisutsa/MARA_Framework

https://mobisec.reyammer.io/slides

https://laconicwolf.com/2019/07/21/using-burp-suite-with-android-devices/

https://vavkamil.cz/2019/09/15/how-to-bypass-android-certificate-pinning-and-intercept-ssl-traffic/

https://www.cybereason.com/blog/eventbot-a-new-mobile-banking-trojan-is-born

https://erev0s.com/blog/how-hook-android-native-methods-frida-noob-friendly/

https://drive.google.com/file/d/1JccmMLi6YTnyRrp_rk6vzKrUX3oXK_Yw/view

https://jailbreak.fce365.info/Thread-How-to-Escape-SandBox-And-Get-Root-on-iOS-12-x-once-you-ve-got-tfp0

### Memory Bugs Exploitation
https://www.shogunlab.com/blog/2019/12/22/here-be-dragons-ghidra-1.html

https://github.com/atxsinn3r/VulnCases?files=1

## Protection and Hardening

### Purple teaming
https://github.com/DefensiveOrigins/APT-Lab-Terraform

https://medium.com/intelforge/atomic-hunting-with-atomic-red-team-starting-your-threat-hunting-journey-fbe961379c24

### AWS
https://github.com/RhinoSecurityLabs/Security-Research/tree/master/tools/aws-pentest-tools

https://github.com/toniblyx/my-arsenal-of-aws-security-tools

https://medium.com/@williambengtson/active-defense-dynamically-locking-aws-credentials-to-your-environment-47a9c920e704

https://m.youtube.com/playlist?list=PLhr1KZpdzukdeX8mQ2qO73bg6UKQHYsHb

https://github.com/Voulnet/barq/blob/master/README.md

https://www.cloudconformity.com/knowledge-base/aws/

https://labs.nettitude.com/blog/how-to-exfiltrate-aws-ec2-data/

https://www.jeffersonfrank.com/aws-blog/best-aws-cloud-migration-tools/?utm_source=DSMN8&utm_medium=LinkedIn

### Azure
https://docs.microsoft.com/en-us/learn/modules/automate-azure-tasks-with-powershell/

https://github.com/Azure/securedworkstation

https://docs.microsoft.com/en-gb/learn/paths/architect-great-solutions-in-azure/

### AD

https://blog.paramountdefenses.com/2020/05/active-directory-security-for-cyber-security-experts.html?m=1

https://github.com/decalage2/awesome-security-hardening

https://www.imab.dk/getting-started-with-security-baselines-moving-from-group-policy-to-microsoft-intune/

https://github.com/nshalabi/SysmonTools

### Windows
https://github.com/littl3field/Audix

https://github.com/ssh3ll/Windows-10-Hardening

https://github.com/NVISO-BE/posh-dsc-windows-hardening

### Linux
https://github.com/hardenedlinux/harbian-audit/

https://github.com/Kirtar22/Litmus_Test/

https://gravitational.com/blog/how-to-ssh-properly/

### Kubernetes
https://www.inovex.de/blog/kubernetes-security-tools/

### Zero trust
https://cloud.google.com/beyondcorp/

https://cloud.google.com/context-aware-access/

https://www.microsoft.com/security/blog/2018/06/14/building-zero-trust-networks-with-microsoft-365/

https://www.microsoft.com/security/blog/2019/12/11/go-passwordless-strengthen-security-reduce-costs/

### IoT
https://github.com/arthastang/IoT-Implant-Toolkit

https://github.com/ElevenPaths/HomePWN

## Forensics / Detection

https://github.com/fireeye/ThreatPursuit-VM

https://github.com/cyb3rfox/Aurora-Incident-Response

https://github.com/RESOLVN/RTHVM

https://github.com/alexandreborges/malwoverview

https://github.com/muteb/Hoarder

https://www.bleepingcomputer.com/news/security/a-closer-look-at-the-robbinhood-ransomware/

https://www.sans.org/reading-room/whitepapers/dns/detecting-dns-tunneling-34152

http://correlatedsecurity.com/introducing-speed-use-case-framework-v1-0/amp/

https://github.com/cyberdefenders/DetectionLabELK

https://github.com/JPCERTCC/LogonTracer

## WriteUps
https://hackingresources.com/hackthebox-ai-writeup/

https://rizemon.github.io/hackthebox/ldap/kerberos/windows/2020/03/22/forest-htb.html

https://github.com/sajjadium/CTFium
